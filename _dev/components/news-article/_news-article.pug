
//- News article
//- ============
//- Content for a news article

//- Includes
include ../social-share/_social-share
include ../quote-inline/_quote-inline

mixin newsArticle()

	//- CMS config
	<cms:editable name="group_news_article_body" label="News article body" desc="Body for news article" type="group"></cms:editable>

	.news-article
		.content
			.inner
				article.content-left(role="article")
					.details
						.author
							p(rel="author")
								span Written by:
								<cms:editable name="article_author" group="group_news_article_header" type="text"></cms:editable>
								
							.pubdate
								p
									span Published: 
									time(pubdate="pubdate") 
										<cms:date k_page_date format="jS F, Y" "/>"
								
						//- Social share
						+socialShare

					p <cms:editable name="article_standfirst" group="group_news_article_body" type="text"></cms:editable>
					<cms:editable name="article_body" group="group_news_article_body" type="richtext"></cms:editable>

					br
					br
					<h2>Comments</h2>
					<div id="disqus_thread"></div>
					<script>
					| var disqus_config = function () {
					| this.page.url = '<cms:show k_page_link ">" ';  
					| this.page.identifier = '<cms:show k_page_title">" ';
					| };
					| 
					| (function() { // DON'T EDIT BELOW THIS LINE
					| var d = document, s = d.createElement('script');
					| s.src = 'https://alex-plummer.disqus.com/embed.js';
					| s.setAttribute('data-timestamp', +new Date());
					| (d.head || d.body).appendChild(s);
					| })();
					</script>				
				
				aside.content-right(role="complementary")
					<cms:hide>
					<cms:editable name="article_support_image" group="group_news_article_body" label="Article support image" type="image"></cms:editable>
					<cms:editable name="article_support_image_alt" group="group_news_article_body" label="Article support image alt" type="text"></cms:editable>
					</cms:hide>
					<cms:if article_support_image>
					img(data-src="<cms:show article_support_image />" alt="<cms:show article_support_image_alt />")
					</cms:if>